{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = `46857118-7428ce3c72e98dd3525ce7abc`;\nconst PER_PAGE = 15;\n\n  \n\nasync function fetchImages(query, page = 1) {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    per_page: PER_PAGE,\n    page: page,\n  };\n\n  const response = await axios.get(BASE_URL, { params });\n  const data = response.data;\n\n\n if (data.hits.length === 0) {\n      throw new Error('Sorry, there are no images matching your search query. Please try again!');\n    }\n     return data.hits.map(hit => ({\n      webformatURL: hit.webformatURL,\n      largeImageURL: hit.largeImageURL,\n      tags: hit.tags,\n      likes: hit.likes,\n      views: hit.views,\n      comments: hit.comments,\n      downloads: hit.downloads,\n    }));\n  }\n\n\nexport { fetchImages };","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox;\n\nconst galleryItem = ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `<li class=\"image-card\">\n        <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\">\n        </a>\n        <div class=\"image-info\">\n                <span> Likes: ${likes}</span>\n                <span> Comments: ${comments}</span>\n                <span> Views: ${views}</span>\n                <span> Downloads: ${downloads}</span>\n</div>\n        </li>`\n}\nconst renderGallery = (gallery, images) => {\n    gallery.insertAdjacentHTML('beforeend', images.map(image => galleryItem(image)).join(''));\n    \n    if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery a');\n    } else {\n        lightbox.refresh();\n    }\n   \n};\n\nexport { renderGallery};","import { fetchImages } from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\n\nconst form = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\nconst loadBtn = document.querySelector(\".btn-load\");\n\n\nlet query = '';\nlet page = 1;\nlet PER_PAGE = 15;\n\n\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n  query = event.currentTarget.elements.searchRequest.value.trim();\n\n  if (!query) {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a valid search term.',\n      position: 'topRight'\n    });\n    return;\n  }\n\n  page = 1;\n  gallery.innerHTML = '';\n  loadBtn.style.display = 'none';\n differentImages();\n});\n\nconst differentImages = async () => {\n  try {\n    loader.style.display = 'none';\n    const data = await fetchImages(query, page);\n    \n\n    if (data.length === 0) {\n      iziToast.info({\n        message: 'Sorry, there are no images matching your search query.'\n      });\n      loadBtn.style.display = 'none';\n      return;\n    }\n\n    renderGallery(gallery, data);\n    page += 1;\n\n\n    if (data.length < PER_PAGE || page > Math.ceil(data.totalHits / PER_PAGE)) {\n      loadBtn.style.display = 'none';\n      iziToast.info({ message: 'We are sorry, but you have reached the end of search results.' });\n    } else {\n      loadBtn.style.display = 'block';\n    }\n  } catch (error) {\n    loadBtn.style.display = 'none';\n    iziToast.error({ title: 'Error', message: error.message });\n  }\n};\n\nloadBtn.addEventListener('click', async () => {\n  await differentImages();\n\n  const cardHeight = gallery.lastElementChild.getBoundingClientRect().height;\n  window.scrollBy({\n    left: 0,\n    top: cardHeight * 2,\n    behavior: \"smooth\"\n  });\n});"],"names":["BASE_URL","API_KEY","PER_PAGE","fetchImages","query","page","params","data","axios","hit","lightbox","galleryItem","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderGallery","gallery","images","image","SimpleLightbox","form","loader","loadBtn","event","iziToast","differentImages","error","cardHeight"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCACVC,EAAW,GAIjB,eAAeC,EAAYC,EAAOC,EAAO,EAAG,CAC1C,MAAMC,EAAS,CACb,IAAKL,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAUF,EACV,KAAMG,CACV,EAGQE,GADW,MAAMC,EAAM,IAAIR,EAAU,CAAE,OAAAM,CAAM,CAAE,GAC/B,KAGvB,GAAIC,EAAK,KAAK,SAAW,EACpB,MAAM,IAAI,MAAM,0EAA0E,EAE3F,OAAOA,EAAK,KAAK,IAAIE,IAAQ,CAC5B,aAAcA,EAAI,aAClB,cAAeA,EAAI,cACnB,KAAMA,EAAI,KACV,MAAOA,EAAI,MACX,MAAOA,EAAI,MACX,SAAUA,EAAI,SACd,UAAWA,EAAI,SAChB,EAAC,CACN,CChCA,IAAIC,EAEJ,MAAMC,EAAc,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KACvE;AAAA,mBACQL,CAAa;AAAA,oBACZD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,gCAGdC,CAAK;AAAA,mCACFE,CAAQ;AAAA,gCACXD,CAAK;AAAA,oCACDE,CAAS;AAAA;AAAA,eAIvCC,EAAgB,CAACC,EAASC,IAAW,CACvCD,EAAQ,mBAAmB,YAAaC,EAAO,IAAIC,GAASX,EAAYW,CAAK,CAAC,EAAE,KAAK,EAAE,CAAC,EAEnFZ,EAGDA,EAAS,QAAO,EAFhBA,EAAW,IAAIa,EAAe,YAAY,CAKlD,ECpBMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCL,EAAU,SAAS,cAAc,UAAU,EAC3CM,EAAU,SAAS,cAAc,WAAW,EAGlD,IAAItB,EAAQ,GACRC,EAAO,EACPH,EAAW,GAGfsB,EAAK,iBAAiB,SAAWG,GAAU,CAIzC,GAHAA,EAAM,eAAc,EACpBvB,EAAQuB,EAAM,cAAc,SAAS,cAAc,MAAM,OAErD,CAACvB,EAAO,CACVwB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,oCACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDvB,EAAO,EACPe,EAAQ,UAAY,GACpBM,EAAQ,MAAM,QAAU,OACzBG,GACD,CAAC,EAED,MAAMA,EAAkB,SAAY,CAClC,GAAI,CACFJ,EAAO,MAAM,QAAU,OACvB,MAAMlB,EAAO,MAAMJ,EAAYC,EAAOC,CAAI,EAG1C,GAAIE,EAAK,SAAW,EAAG,CACrBqB,EAAS,KAAK,CACZ,QAAS,wDACjB,CAAO,EACDF,EAAQ,MAAM,QAAU,OACxB,MACD,CAEDP,EAAcC,EAASb,CAAI,EAC3BF,GAAQ,EAGJE,EAAK,OAASL,GAAYG,EAAO,KAAK,KAAKE,EAAK,UAAYL,CAAQ,GACtEwB,EAAQ,MAAM,QAAU,OACxBE,EAAS,KAAK,CAAE,QAAS,+DAAiE,CAAA,GAE1FF,EAAQ,MAAM,QAAU,OAE3B,OAAQI,EAAO,CACdJ,EAAQ,MAAM,QAAU,OACxBE,EAAS,MAAM,CAAE,MAAO,QAAS,QAASE,EAAM,OAAO,CAAE,CAC1D,CACH,EAEAJ,EAAQ,iBAAiB,QAAS,SAAY,CAC5C,MAAMG,EAAe,EAErB,MAAME,EAAaX,EAAQ,iBAAiB,sBAAqB,EAAG,OACpE,OAAO,SAAS,CACd,KAAM,EACN,IAAKW,EAAa,EAClB,SAAU,QACd,CAAG,CACH,CAAC"}