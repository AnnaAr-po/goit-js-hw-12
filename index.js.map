{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = `46857118-7428ce3c72e98dd3525ce7abc`;\nconst PER_PAGE = 15;\n\nconst requestParams = new URLSearchParams({\n  key: API_KEY,\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true'\n});\n\nconst fetchImages = (request) => {\n  requestParams.set('q', request);\n\n  return fetch(`${BASE_URL}?${requestParams}`)\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error(`Failed to fetch images`);\n      }\n\n      return response.json();\n    })\n    .then((response) => {\n      if (response.hits.length === 0) {\n        throw new Error('Sorry, there are no images matching your search query. Please try again!');\n      }\n\n      return response.hits.map(hit => ({\n        webformatURL: hit.webformatURL,\n        largeImageURL: hit.largeImageURL,\n        tags: hit.tags,\n        likes: hit.likes,\n        views: hit.views,\n        comments: hit.comments,\n        downloads: hit.downloads,\n      }));\n    });\n}\nexport { fetchImages };","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox;\nconst galleryItem = ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `<li class=\"image-card\">\n        <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\">\n        </a>\n        <div class=\"image-info\">\n                <span> Likes ${likes}</span>\n                <span> Comments ${comments}</span>\n                <span> Views ${views}</span>\n                <span> Downloads ${downloads}</span>\n</div>\n        </li>`\n}\nconst renderGallery = (gallery, images) => {\n    gallery.innerHTML = images.map(image => galleryItem(image))\n        .join('');\n    \n    if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a');\n    } else {\n lightbox.refresh();\n    }\n   \n}\n\nexport { renderGallery};","import { fetchImages } from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\n\nconst form = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\n\nfunction showLoader() {\n  loader.style.display = 'flex';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n  const request = event.currentTarget.elements.searchRequest.value.trim();\n  \n  if (request === \"\") {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a valid search term.',\n      position: 'topRight'\n    });\n    return;\n  }\n\n  showLoader();\n  gallery.innerHTML = '';\n  \n  fetchImages(request)\n    .then(images => {\n      renderGallery(gallery, images);\n    })\n    .catch(() => {\n       iziToast.error({\n        title: 'Error',\n        message: 'Failed to fetch images. Please try again later.',\n        position: 'topRight'\n      });\n  \n      \n      })\n      .finally(() => {\n        hideLoader();\n      });\n    })"],"names":["BASE_URL","API_KEY","requestParams","fetchImages","request","response","hit","lightbox","galleryItem","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderGallery","gallery","images","image","SimpleLightbox","form","loader","showLoader","hideLoader","event","iziToast"],"mappings":"6vBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAGVC,EAAgB,IAAI,gBAAgB,CACxC,IAAKD,EACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,MACd,CAAC,EAEKE,EAAeC,IACnBF,EAAc,IAAI,IAAKE,CAAO,EAEvB,MAAM,GAAGJ,CAAQ,IAAIE,CAAa,EAAE,EACxC,KAAMG,GAAa,CAClB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAG1C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAMA,GAAa,CAClB,GAAIA,EAAS,KAAK,SAAW,EAC3B,MAAM,IAAI,MAAM,0EAA0E,EAG5F,OAAOA,EAAS,KAAK,IAAIC,IAAQ,CAC/B,aAAcA,EAAI,aAClB,cAAeA,EAAI,cACnB,KAAMA,EAAI,KACV,MAAOA,EAAI,MACX,MAAOA,EAAI,MACX,SAAUA,EAAI,SACd,UAAWA,EAAI,SAChB,EAAC,CACR,CAAK,GCpCL,IAAIC,EACJ,MAAMC,EAAc,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KACvE;AAAA,mBACQL,CAAa;AAAA,oBACZD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,+BAGfC,CAAK;AAAA,kCACFE,CAAQ;AAAA,+BACXD,CAAK;AAAA,mCACDE,CAAS;AAAA;AAAA,eAItCC,EAAgB,CAACC,EAASC,IAAW,CACvCD,EAAQ,UAAYC,EAAO,IAAIC,GAASX,EAAYW,CAAK,CAAC,EACrD,KAAK,EAAE,EAEPZ,EAGRA,EAAS,QAAO,EAFbA,EAAW,IAAIa,EAAe,YAAY,CAK9C,ECpBMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCL,EAAU,SAAS,cAAc,UAAU,EAGjD,SAASM,GAAa,CACpBD,EAAO,MAAM,QAAU,MACzB,CAEA,SAASE,GAAa,CACpBF,EAAO,MAAM,QAAU,MACzB,CAEAD,EAAK,iBAAiB,SAAWI,GAAU,CACzCA,EAAM,eAAc,EACpB,MAAMrB,EAAUqB,EAAM,cAAc,SAAS,cAAc,MAAM,OAEjE,GAAIrB,IAAY,GAAI,CAClBsB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,oCACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDH,IACAN,EAAQ,UAAY,GAEpBd,EAAYC,CAAO,EAChB,KAAKc,GAAU,CACdF,EAAcC,EAASC,CAAM,CACnC,CAAK,EACA,MAAM,IAAM,CACVQ,EAAS,MAAM,CACd,MAAO,QACP,QAAS,kDACT,SAAU,UAClB,CAAO,CAGP,CAAO,EACA,QAAQ,IAAM,CACbF,GACR,CAAO,CACF,CAAA"}